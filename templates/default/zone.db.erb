;
; Bind data file for <%= @zone %>
; File is managed by Chef
;

$ORIGIN <%= @zone %>.
$TTL    <%= node[:bind][:ttl] %>
@       IN      SOA       <%= node[:bind][:soa] %>. <%= node[:bind][:soa_email] %>. (
                <%= node[:bind][:serial] %>      ; Serial
                <%= node[:bind][:refresh] %>     ; Refresh
                <%= node[:bind][:retry] %>       ; Retry 
                <%= node[:bind][:expire] %>      ; Expire 
                <%= node[:bind][:minimum] %>  )  ; Negative Cache TTL
;     
<% node[:bind][:nameservers].each do |nameserver| -%>
@       IN      NS        <%= nameserver %>.
<% end -%>
;
<% @records.each do |record| -%> 
<%= record["host"] %>       <%= record["ttl"] %>      <%=record["dns_class"] %>       <%= record["record"] %>
<% end -%>
